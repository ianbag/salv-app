<ngx-spinner></ngx-spinner>
<style>
  .my-pagination /deep/ .ngx-pagination .current {
    background: #00AE5D;
  }

  p {
    max-width: 55ch;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  }
</style>

<section class="content">


  <button class="btn btn-success" (click)="reportAcompanhamentos()" id="printReport"><i
      class="fa fa-print"></i></button>

  <div id="content">
    <div class="form-group">
      <a type="submit" class="btn btn-primary" [routerLink]="['/acompanhamentos/novo-acompanhamento']">Novo
        acompanhamento</a>


      <!-- FILTRO -->

      <!-- FIM DO FILTRO -->

      <!-- PESQUISA -->
      <div class="btn-group pull-right botao-pesquisa-acom" style="margin-right: 40px; margin-left: 40px">
        <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">Pesquisar</button>

        <ul class="dropdown-menu caixa-pesquisa-acom" role="menu">
          <div class="input-group" style="margin: 5px">
            <div class="input-group-addon"><i class="glyphicon glyphicon-search"></i></div>
            <input input class="form-control" placeholder="Pesquisar" type="text" name="search" [(ngModel)]="filter"
              style="height: 40px; width: 250px">
          </div>
        </ul>
      </div>
      <!-- FIM PESQUISA-->
      <br>

    </div>
    <br>
    <div class="box box-default table-responsive no-padding" [@acompanhamentosAppeared]="acompanhamentosState">
      <h1>Visualização geral dos acompanhamentos</h1>

      <br>
      <table class="table table-hover" id="datatable">
        <tr>
          <th class="col-sm-4">Atividade realizada</th>
          <th class="col-sm-4">Data</th>
          <th class="col-sm-4">Ações</th>
        </tr>
        <tr
          *ngFor="let acompanhamento of acompanhamentos | filter : filter : searchString | paginate: { itemsPerPage: 10, currentPage: paginaAtual} let i = index">
          <td>
            <p>{{acompanhamento.ATIVIDADE}}</p>
          </td>
          <td>{{acompanhamento.DATA_ACOMPANHAMENTO | date:'dd/MM/yyyy'}}</td>

          <td>

            <a type="submit" class="btn btn-success botao" [routerLink]="['/acompanhamentos', acompanhamento.CODIGO]">
              + Opções</a>
          </td>
        </tr>

      </table>
      <pagination-controls class="my-pagination " (pageChange)="paginaAtual = $event" previousLabel="Anterior"
        nextLabel="Próximo" screenReaderPaginationLabel="Paginação" screenReaderPageLabel="Página"
        screenReaderCurrentLabel="Voce esta na página"></pagination-controls>
      <!-- Fim da tabela  -->
    </div>
  </div>
</section>